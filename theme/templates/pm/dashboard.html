{% extends "pm/layout.html" %}
{% load static %}
{% block content %}
<div class="breadcrumbs text-lg font-bold mt-2">
  <ul>
    <li>
      <a>
        <svg class="w-5 h-5 text-blue-700 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 21">
          <path d="M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"/>
          <path d="M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"/>
      </svg>
        Dashboard
      </a>
    </li>
  </ul>
</div>

<div class="grid grid-cols-2 md:grid-cols-5 mb-4">
  <div class="cursor-pointer overflow-hidden relative transition-all duration-500 hover:translate-y-2 w-48 h-16 bg-neutral-100 rounded-lg shadow-xl flex flex-row items-center justify-evenly gap-2 p-2 before:absolute before:w-full hover:before:top-0 before:duration-500 before:-top-1 before:h-1 before:bg-purple-200">
    <div>
      <span class="font-bold text-left">Rata-rata Progress</span>
      <p class="line-clamp-3 self-end text-right">
        {{ rata }} %
      </p>
    </div>
  </div>
  <div class="cursor-pointer overflow-hidden relative transition-all duration-500 hover:translate-y-2 w-48 h-16 bg-neutral-100 rounded-lg shadow-xl flex flex-row items-center justify-evenly gap-2 p-2 before:absolute before:w-full hover:before:top-0 before:duration-500 before:-top-1 before:h-1 before:bg-purple-200">
    <div>
      <span class="font-bold text-left">Progress Selesai</span>
      <p class="line-clamp-3 self-end text-right">
        {{ total }} Pekerjaan
      </p>
    </div>
  </div>
  <div class="cursor-pointer overflow-hidden relative transition-all duration-500 hover:translate-y-2 w-48 h-16 bg-neutral-100 rounded-lg shadow-xl flex flex-row items-center justify-evenly gap-2 p-2 before:absolute before:w-full hover:before:top-0 before:duration-500 before:-top-1 before:h-1 before:bg-purple-200">
    <div>
      <span class="font-bold text-left">Test</span>
      <p class="line-clamp-3 self-end text-right">
        0
      </p>
    </div>
  </div>
</div>

<div class="chart">
  <fieldset class="fieldset mb-2">
    <form method="post">
        {% csrf_token %}
        <div class="join">
            <div>
                <select class="select join-item" id="client" name="client" required>
                    <option selected value="">Pilih Projek</option>
                    {% for p in projek %} 
                    <option value="{{ p.id }}">{{ p.client }}</option>
                    {% endfor %}                
                </select>
            </div>
            <button class="btn btn-success join-item" type="submit">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbElEQVR4nO3UsQ2AMAwF0YMRWI1JGAQxFyvRmIaCgiYxJNj6J7lJ9aQkBhUoe2niA2oTwAQgI2ACll6AEdivs60F4KkZOG6IgcaAEkQRwByzpgB4rqDrI8z9De1vi6g0AUwAsgDMOXEBii86AcUnw48cScs3AAAAAElFTkSuQmCC" alt="enter-2">
            </button>
        </div>
    </form>
  </fieldset>
  <div class="chart-overlay"></div>
  <div class="chart-inner">{{ diagram|safe }}</div>
</div>
{% endblock %}